---
layout:     post
title:      网站常用指标解析
subtitle:   网站常用指标解析
date:       2018-05-19
author:     bright
header-img: img/post-bg-coffee.jpeg
catalog: true
tags:
- 编程
- shell
---

### 术语说明：
```
PV=page view
TPS=transactions per second
QPS=queries per second
RPS=requests per second

RPS=并发数/平均响应时间
QPS = req/sec = 请求数/秒
```

### 【QPS计算PV和机器的方式】
```
QPS统计方式 [一般使用 http_load 进行统计]
QPS = 总请求数 / ( 进程总数 * 请求时间 )
QPS: 单个进程每秒请求服务器的成功次数
```

>- 单台服务器每天PV计算
```
公式1：每天总PV = QPS * 3600 * 6
公式2：每天总PV = QPS * 3600 * 8
```

>- 服务器计算
```
服务器数量 = ceil( 每天总PV / 单台服务器每天总PV )
```

### 【峰值QPS和机器计算公式】
```
原理：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间
公式：( 总PV数 * 80% ) / ( 每天秒数 * 20% ) = 峰值时间每秒请求数(QPS)
机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器

问：每天300w PV 的在单台机器上，这台机器需要多少QPS？
答：(3000000* 0.8 ) / (86400 * 0.2 ) = 139 (QPS)
问：如果一台机器的QPS是58，需要几台机器来支持？
答：139 / 58 = 3
```

### PV等指标含义
```
指标含义：
pv（page view，浏览量）
  ● 页面的浏览次数，衡量网站用户访问的网页数量；
  ● 用户每打开一个页面就记录1次，多次打开同一页面则浏览量累计。
uv（unique visitor，独立访客）
  ● 1天内访问某站点的人数（以cookie为依据）；
  ● 1天内同一访客的多次访问只计为1个访客。
ip（独立ip）
  ● 指1天内使用不同ip地址的用户访问网站的数量；
  ● 同一IP不管访问了几个页面，独立IP数均为1。
当ip:uv=1:1时，一个ip对应一个访客，这说明访问者可能都是在一些个人电脑上访问或者是adsl用户。
当ip:pv=uv:pv=1:1，这说明每个访客只浏览一次页面，这可能是访问者误打误撞进了这个页面，然后就离开了，这时候就该对页面的质量进行分析。统计工具还提供页面停留时间，这也可以反映页面的质量问题，停留时间越长，说明你的网站有值得去浏览的地方，这时候，访客极有可能成为你的潜在用户。

综上所述，
ip:uv能看出访问者是个人pc还是网吧机房之类的情况，帮助站长分析网站的用户群；（确定用户群）
uv:pv能看出一个网站的质量，比例越小越好；在网站初期，流量不大的情况下 ，这些数据的意义可能不是很大，但当网站推广到一定程度后，它们就具有非常有效的指导意义（网站内容质量）
=>  ip:uv分析网站推广应该向哪个方向努力，由uv:pv分析网站质量应该作那些改善， 即用户体验。

一些情况：
 一、什么情况ip会大于uv  ( ip>uv ：同一个用户通过动态ip访问网站，造成产生多个ip，实际是同一个uv) 
一般家庭电脑都是用adsl拨号上网，也就是动态的ip地址，每次拨号一次ip数量就会加1，可是真实的用户还是一个人，甚至有人一天拨号10几次也有可能，这样算来，一个用户就会产生10个ip，对数据分析员来说就造成巨大误差。
二、什么情况uv大于ip  （uv>ip : 多个uv用户来自同一个ip，比如网吧）
多个用户，一个ip这样情况会造成uv大于ip，不错，就是网吧，一般中型网吧100-200太电脑，现如今的网吧比前几年要发达的多，并非共享动态ip了，都是公用一个专线ip(专线ip是静态ip，ip地址是不变的)，打个比方：如果一个网站几百人都登陆你的网站，那么ip数是1，实际上却有100人访问你的网站，而且网吧的顾客都是流动的也就是说，无论多少人在这个网吧访问你的网站，ip数都会被记成1。但是uv确实100。

存在问题：
虽然UV相对ip来说比较精准，但是还有很多地方是技术人员无法完善的。
1. 也是一个用户多台电脑影响到uv
一个用户多台电脑。如今，人们上网的方式越来越的多样化，网吧，个人电脑，办公室，如果这人在三个不同环境浏览你的网站会产生3个不同的cookies，uv=3，实际上也是一人浏览而已，而现在所有的网络分析解决方案会将此记录成3个不同的访客。这也是现如今无法解决的一个问题。
2. 购买时长影响到uv
一般来说一个访客变成一个顾客，如果这段时间比较短的话，统计工具完全有能力统计到对方的页面浏览和行为分析，从而进行准确的数据分析。
但是一般比较贵重的物品，访客可能要经过很长时间甚至半年时间的考虑，才能从访客变成我们的顾客，在这段时间里，访客随时有可能系统崩溃，删除cookies或者购买新电脑等操作，而这个用户在最后购买时候  会被当  成新的访客对待，进而导致被当成新的访客对我们的数据分析造成很大的误差。
```


### CTR指标

```
CTR（Click-Through-Rate）即点击通过率，指网络广告（图片广告/文字广告/关键词广告/排名广告/视频广告等）的点击到达率，即该广告的实际点击次数（严格的来说，可以是到达目标页面的数量）除以广告的展现量（Show content）。

app的激活量是指:下载app以后有过启动行为的用户量
活跃度一般分三个时间维度计算：
日活跃用户：当天启动过app的用户数
周活跃用户数：一周内启动过APP的用户数
月活跃用户数：当月启动过APP的用户数

活跃率：XX时间段内启动过App的用户数/总用户数

目标转化出价（oCPC出价） (optimization cost per click)功能
采用更科学的转化率预估机制，帮助广告主在获取更多优质流量的同时提升广告转化效果
```



